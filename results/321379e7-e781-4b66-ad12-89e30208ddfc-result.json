{"name": "test_case_3", "status": "broken", "statusDetails": {"message": "Exception: Coupon code applied twice", "trace": "selenium = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"03e48fae94ec243e088da9a3617aaa33\")>\n\n    @allure.feature('Проверка повторного применения промокода')\n    def test_case_3(selenium):\n        driver = selenium\n    \n        with allure.step(\"Открыть Pizzeria — Пиццерия\"):\n            main_page = MainPage(driver)\n            main_page.open_page()\n    \n        with allure.step(\"Нажать Мой аккаунт\"):\n            my_account_page = MyAccountPage(driver)\n            my_account_page.click_account_button()\n    \n        with allure.step(\"Ввести имя и пароль существующего пользователя \"):\n            my_account_page.authorization()\n    \n        with allure.step(\"Нажать Войти\"):\n            my_account_page.click_auth_button()\n    \n        with allure.step(\"Открыть меню и добавить пиццу в корзину\"):\n            main_page.open_page()\n            main_page.add_pizza_1()\n    \n        with allure.step(\"Открыть корзину\"):\n            main_page.open_basket()\n    \n        with allure.step(\"В поле для ввода купона ввести GIVEMEHALYAVA и нажать Применить\"):\n            basket_page = BasketPage(driver)\n            basket_page.send_correct_coupon()\n            basket_page.click_coupon_button()\n    \n        with allure.step(\"Нажать Перейти к оплате\"):\n            basket_page = BasketPage(driver)\n            basket_page.click_order()\n    \n        with allure.step(\"Заполнить все поля, выбрать Оплата при доставке и активировать соглашение\"):\n            checkout_page = CheckoutPage(driver)\n            checkout_page.making_order()\n    \n        with allure.step(\"Нажать оформить заказ\"):\n            checkout_page.click_order_button()\n    \n        with allure.step(\"Открыть меню и добавить пиццу в корзину\"):\n            main_page.open_page()\n            main_page.add_pizza_1()\n    \n        with allure.step(\"Открыть корзину\"):\n            main_page.open_basket()\n    \n        with allure.step(\"В поле для ввода купона ввести GIVEMEHALYAVA и нажать Применить\"):\n            basket_page = BasketPage(driver)\n            basket_page.send_correct_coupon()\n            basket_page.click_coupon_button()\n    \n        with allure.step(\"Проверить, что купон не применен повторно\"):\n>           basket_page.coupon_applied_twice()\n\ntests\\3_promo_code_test.py:130: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npages\\basket_page.py:80: in coupon_applied_twice\n    self.coupon_applied_twice_exception(self.message_coupon_applied, \"Coupon code applied successfully.\")\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.basket_page.BasketPage object at 0x000001ACE13EE5D0>, locator = ('xpath', '//div[@class=\"woocommerce-message\"]'), error_text = 'Coupon code applied successfully.'\n\n    def coupon_applied_twice_exception(self, locator, error_text):\n        element = self.wait.until(EC.visibility_of_element_located(locator))\n        value = element.text\n        if value == error_text:\n>           raise Exception(\"Coupon code applied twice\")\nE           Exception: Coupon code applied twice\n\npages\\base_page.py:21: Exception"}, "steps": [{"name": "Открыть Pizzeria — Пиццерия", "status": "passed", "start": 1754302233876, "stop": 1754302235155}, {"name": "Нажать Мой аккаунт", "status": "passed", "start": 1754302235155, "stop": 1754302236073}, {"name": "Ввести имя и пароль существующего пользователя ", "status": "passed", "start": 1754302236074, "stop": 1754302236421}, {"name": "Нажать Войти", "status": "passed", "start": 1754302236421, "stop": 1754302236858}, {"name": "Открыть меню и добавить пиццу в корзину", "status": "passed", "start": 1754302236859, "stop": 1754302237690}, {"name": "Открыть корзину", "status": "passed", "start": 1754302237690, "stop": 1754302239129}, {"name": "В поле для ввода купона ввести GIVEMEHALYAVA и нажать Применить", "status": "passed", "start": 1754302239129, "stop": 1754302239329}, {"name": "Нажать Перейти к оплате", "status": "passed", "start": 1754302239329, "stop": 1754302239902}, {"name": "Заполнить все поля, выбрать Оплата при доставке и активировать соглашение", "status": "passed", "start": 1754302239902, "stop": 1754302241699}, {"name": "Нажать оформить заказ", "status": "passed", "start": 1754302241699, "stop": 1754302241798}, {"name": "Открыть меню и добавить пиццу в корзину", "status": "passed", "start": 1754302241798, "stop": 1754302242647}, {"name": "Открыть корзину", "status": "passed", "start": 1754302242647, "stop": 1754302244049}, {"name": "В поле для ввода купона ввести GIVEMEHALYAVA и нажать Применить", "status": "passed", "start": 1754302244049, "stop": 1754302244233}, {"name": "Проверить, что купон не применен повторно", "status": "broken", "statusDetails": {"message": "Exception: Coupon code applied twice\n", "trace": "  File \"C:\\Users\\ZudihinaE\\PycharmProjects\\AutoTest\\tests\\3_promo_code_test.py\", line 130, in test_case_3\n    basket_page.coupon_applied_twice()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\ZudihinaE\\PycharmProjects\\AutoTest\\pages\\basket_page.py\", line 80, in coupon_applied_twice\n    self.coupon_applied_twice_exception(self.message_coupon_applied, \"Coupon code applied successfully.\")\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ZudihinaE\\PycharmProjects\\AutoTest\\pages\\base_page.py\", line 21, in coupon_applied_twice_exception\n    raise Exception(\"Coupon code applied twice\")\n"}, "start": 1754302244233, "stop": 1754302244784}], "start": 1754302233876, "stop": 1754302244787, "uuid": "50b0fbf8-2c2f-4b31-96c5-f88c2c14b268", "historyId": "5ed62c8fbdf208fe263657d043710b29", "testCaseId": "5ed62c8fbdf208fe263657d043710b29", "fullName": "tests.3_promo_code_test#test_case_3", "labels": [{"name": "feature", "value": "Проверка повторного применения промокода"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "3_promo_code_test"}, {"name": "host", "value": "RUDSDW026986"}, {"name": "thread", "value": "41960-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.3_promo_code_test"}], "titlePath": ["tests", "3_promo_code_test.py"]}